<div class="d-block w-100">
  <div class="d-block w-100">
    <mat-form-field appearance="fill" class="w-100 field-style2 mb-1" [formGroup]="messageForm">
      <mat-label class="text-muted text-13"> {{'WRITE_YOUR_MESSAGE'|translate}} </mat-label>
      <textarea matInput class="form-control text-black text-15 h-35-px" formControlName="message" #messageTextarea
        (keydown)="onEnterPress($event)" (keyup)="onKeyUp($event)"> </textarea>
      <button [disabled]="disableSendButton" class="position-absolute top-0 me-0 end-0 mt-0 border-0 bg-transparent"
        (click)="sendMessage()">
        <mat-icon class="text-20 h-auto no-min-height no-min-width text-black img-transform-lang">send</mat-icon>
      </button>
    </mat-form-field>
  </div>
  <div class="d-block w-100 mt-2">
    <app-attachement-preview *ngIf="!!messageToReply" [attachment]="messageToReply"></app-attachement-preview>
  </div>
  <div class="d-flex w-100 align-items-center justify-content-start py-2">
    <div *ngIf="selectedFiles.length>0">
      <div *ngFor="let file of selectedFiles" class="d-flex align-items-center me-2">
        <span>{{ file.name | titlecase }}</span>
        <button mat-icon-button (click)="removeFile(file)">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </div>
    <button class="d-flex align-items-center justify-content-center me-2" (click)="fileInput.click()">
      <img class="w-auto h-24-px" src="../../assets/img/chat-clip-icon.svg" alt="{{ 'USER_IMAGE' | translate }}">
      <input type="file" style="display: none;" (change)="onFileSelected($event)"
        accept=".doc, .docx, .pdf, .jpg, .jpeg, .png, .gif, .bmp" #fileInput>
    </button>
    <button class="d-flex align-items-center justify-content-center me-2">
      <img class="w-auto h-24-px" src="../../assets/img/chat-smiley-icon.svg" alt="{{'USER_IMAGE'|translate}}">
    </button>
  </div>
</div>
